# Perk implementation matrix (rewrite)

This page tracks **where perks are wired** in the Python rewrite under `src/`,
and which perks have direct scenario tests.

Generated by `uv run python scripts/gen_perk_matrix.py`.

Notes:
- `Port refs` excludes perk metadata (`perks.py`), quests, modes, and UI views.
- `Original hook` is not filled yet; use the decompile + runtime evidence to promote it.

| ID | PerkId | Name | Original hook | Port refs | Tests |
| -- | ------ | ---- | ------------ | -------- | ----- |
| 0 | ANTIPERK | AntiPerk | TBD | `src/crimson/gameplay.py:perk_can_offer` | — |
| 1 | BLOODY_MESS_QUICK_LEARNER | Bloody Mess | TBD | `src/crimson/creatures/runtime.py:CreaturePool._start_death`<br>`src/crimson/game_world.py:GameWorld._queue_projectile_decals` | — |
| 2 | SHARPSHOOTER | Sharpshooter | TBD | `src/crimson/gameplay.py:perk_generate_choices`<br>`src/crimson/gameplay.py:player_fire_weapon`<br>`src/crimson/gameplay.py:player_update` | `tests/test_perk_selection.py` |
| 3 | FASTLOADER | Fastloader | TBD | `src/crimson/gameplay.py:player_start_reload` | — |
| 4 | LEAN_MEAN_EXP_MACHINE | Lean Mean Exp Machine | TBD | `src/crimson/gameplay.py:perks_update_effects` | `tests/test_lean_mean_exp_machine.py` |
| 5 | LONG_DISTANCE_RUNNER | Long Distance Runner | TBD | `src/crimson/gameplay.py:perk_generate_choices` | `tests/test_perk_selection.py` |
| 6 | PYROKINETIC | Pyrokinetic | TBD | — | — |
| 7 | INSTANT_WINNER | Instant Winner | TBD | `src/crimson/gameplay.py:perk_apply` | `tests/test_perk_selection.py` |
| 8 | GRIM_DEAL | Grim Deal | TBD | `src/crimson/gameplay.py:perk_apply` | — |
| 9 | ALTERNATE_WEAPON | Alternate Weapon | TBD | `src/crimson/gameplay.py:player_update` | `tests/test_game_mode_ids.py` |
| 10 | PLAGUEBEARER | Plaguebearer | Sets `player_plaguebearer_active` (`DAT_004908b9`); creature update checks it to infect nearby monsters. | `src/crimson/gameplay.py:perk_apply` | — |
| 11 | EVIL_EYES | Evil Eyes | Target creature index stored in `evil_eyes_target_creature` (`DAT_00490bbc`), set in `perks_update_effects`, read in `creature_update_all`. | `src/crimson/gameplay.py:perk_generate_choices` | `tests/test_perk_selection.py` |
| 12 | AMMO_MANIAC | Ammo Maniac | TBD | `src/crimson/gameplay.py:perk_apply`<br>`src/crimson/gameplay.py:weapon_assign_player` | — |
| 13 | RADIOACTIVE | Radioactive | TBD | `src/crimson/gameplay.py:perk_generate_choices`<br>`src/crimson/render/world_renderer.py:WorldRenderer._draw_player_trooper_sprite` | `tests/test_perk_selection.py` |
| 14 | FASTSHOT | Fastshot | TBD | `src/crimson/gameplay.py:perk_generate_choices`<br>`src/crimson/gameplay.py:player_fire_weapon` | `tests/test_perk_selection.py` |
| 15 | FATAL_LOTTERY | Fatal Lottery | TBD | `src/crimson/gameplay.py:perk_apply` | — |
| 16 | RANDOM_WEAPON | Random Weapon | TBD | — | — |
| 17 | MR_MELEE | Mr. Melee | TBD | — | — |
| 18 | ANXIOUS_LOADER | Anxious Loader | TBD | `src/crimson/gameplay.py:player_update` | — |
| 19 | FINAL_REVENGE | Final Revenge | TBD | — | — |
| 20 | TELEKINETIC | Telekinetic | TBD | `src/crimson/gameplay.py:bonus_telekinetic_update` | — |
| 21 | PERK_EXPERT | Perk Expert | TBD | `src/crimson/gameplay.py:perk_choice_count` | — |
| 22 | UNSTOPPABLE | Unstoppable | TBD | `src/crimson/player_damage.py:player_take_damage` | `tests/test_unstoppable_perk.py` |
| 23 | REGRESSION_BULLETS | Regression Bullets | TBD | `src/crimson/gameplay.py:player_start_reload` | — |
| 24 | INFERNAL_CONTRACT | Infernal Contract | TBD | `src/crimson/gameplay.py:perk_apply` | `tests/test_perk_selection.py` |
| 25 | POISON_BULLETS | Poison Bullets | TBD | — | — |
| 26 | DODGER | Dodger | TBD | `src/crimson/player_damage.py:player_take_damage` | `tests/test_player_damage.py` |
| 27 | BONUS_MAGNET | Bonus Magnet | TBD | `src/crimson/gameplay.py:BonusPool.try_spawn_on_kill` | — |
| 28 | URANIUM_FILLED_BULLETS | Uranium Filled Bullets | TBD | `src/crimson/creatures/damage.py:creature_apply_damage` | — |
| 29 | DOCTOR | Doctor | TBD | `src/crimson/creatures/damage.py:creature_apply_damage` | — |
| 30 | MONSTER_VISION | Monster Vision | TBD | `src/crimson/render/world_renderer.py:WorldRenderer.draw` | — |
| 31 | HOT_TEMPERED | Hot Tempered | TBD | `src/crimson/gameplay.py:player_update` | `tests/test_game_world_audio.py`<br>`tests/test_player_update.py`<br>`+1 more` |
| 32 | BONUS_ECONOMIST | Bonus Economist | TBD | `src/crimson/gameplay.py:bonus_apply` | — |
| 33 | THICK_SKINNED | Thick Skinned | TBD | `src/crimson/gameplay.py:perk_apply`<br>`src/crimson/player_damage.py:player_take_damage` | `tests/test_perk_selection.py` |
| 34 | BARREL_GREASER | Barrel Greaser | TBD | `src/crimson/creatures/damage.py:creature_apply_damage` | — |
| 35 | AMMUNITION_WITHIN | Ammunition Within | TBD | `src/crimson/gameplay.py:player_start_reload` | — |
| 36 | VEINS_OF_POISON | Veins of Poison | TBD | — | — |
| 37 | TOXIC_AVENGER | Toxic Avenger | TBD | — | — |
| 38 | REGENERATION | Regeneration | TBD | `src/crimson/gameplay.py:perk_apply`<br>`src/crimson/gameplay.py:perks_update_effects` | `tests/test_regeneration_perk.py` |
| 39 | PYROMANIAC | Pyromaniac | TBD | `src/crimson/creatures/damage.py:creature_apply_damage` | — |
| 40 | NINJA | Ninja | TBD | `src/crimson/player_damage.py:player_take_damage` | `tests/test_player_damage.py` |
| 41 | HIGHLANDER | Highlander | TBD | — | — |
| 42 | JINXED | Jinxed | TBD | — | — |
| 43 | PERK_MASTER | Perk Master | TBD | `src/crimson/gameplay.py:perk_choice_count` | — |
| 44 | REFLEX_BOOSTED | Reflex Boosted | TBD | — | — |
| 45 | GREATER_REGENERATION | Greater Regeneration | TBD | `src/crimson/gameplay.py:perk_apply` | — |
| 46 | BREATHING_ROOM | Breathing Room | TBD | `src/crimson/gameplay.py:perk_apply` | — |
| 47 | DEATH_CLOCK | Death Clock | TBD | `src/crimson/gameplay.py:bonus_pick_random_type`<br>`src/crimson/gameplay.py:perk_apply`<br>`src/crimson/player_damage.py:player_take_damage` | — |
| 48 | MY_FAVOURITE_WEAPON | My Favourite Weapon | TBD | `src/crimson/gameplay.py:bonus_pick_random_type`<br>`src/crimson/gameplay.py:perk_apply`<br>`src/crimson/gameplay.py:weapon_assign_player` | — |
| 49 | BANDAGE | Bandage | TBD | `src/crimson/gameplay.py:perk_apply` | — |
| 50 | ANGRY_RELOADER | Angry Reloader | Spawns a ring of projectile type `0x0b` when the reload timer crosses the half threshold. | `src/crimson/gameplay.py:player_update` | `tests/test_game_world_audio.py`<br>`tests/test_player_update.py`<br>`+1 more` |
| 51 | ION_GUN_MASTER | Ion Gun Master | TBD | `src/crimson/creatures/damage.py:creature_apply_damage` | — |
| 52 | STATIONARY_RELOADER | Stationary Reloader | TBD | `src/crimson/gameplay.py:player_update` | `tests/test_player_update.py` |
| 53 | MAN_BOMB | Man Bomb | Burst spawns projectile types `0x15/0x16`. | `src/crimson/gameplay.py:player_update` | `tests/test_game_world_audio.py`<br>`tests/test_player_update.py`<br>`+1 more` |
| 54 | FIRE_CAUGH | Fire Caugh | Uses projectile type `0x2d` (see Fire Bullets in the atlas notes). | `src/crimson/gameplay.py:player_update` | `tests/test_player_update.py` |
| 55 | LIVING_FORTRESS | Living Fortress | TBD | `src/crimson/creatures/damage.py:creature_apply_damage`<br>`src/crimson/gameplay.py:player_update` | — |
| 56 | TOUGH_RELOADER | Tough Reloader | TBD | `src/crimson/player_damage.py:player_take_damage` | — |
| 57 | LIFELINE_50_50 | Lifeline 50-50 | TBD | `src/crimson/gameplay.py:perk_apply` | — |
