[project]
site_name = "Crimsonland decompiled"
site_dir = "_site"

site_description = "Reverse engineering notes for Crimsonland assets and formats."
site_author = "banteg"
extra_css = ["stylesheets/extra.css"]
extra_javascript = [
    "https://cdn.jsdelivr.net/npm/vega@6",
    "https://cdn.jsdelivr.net/npm/vega-lite@6",
    "https://cdn.jsdelivr.net/npm/vega-embed@7",
    "javascripts/weapons-widgets.js",
]

nav = [
  { "Home" = "index.md" },
  { "Mechanics" = [
    { "Overview" = "mechanics/index.md" },
    { "Modes" = [
      { "Survival" = "mechanics/modes/survival.md" },
      { "Rush" = "mechanics/modes/rush.md" },
      { "Quests" = "mechanics/modes/quests.md" },
      { "Typ-o-Shooter" = "mechanics/modes/typo-shooter.md" },
      { "Tutorial" = "mechanics/modes/tutorial.md" },
    ]},
    { "Combat" = [
      { "Overview" = "mechanics/combat/index.md" },
      { "Weapons" = "mechanics/combat/weapons.md" },
    ]},
    { "Systems" = [
      { "Overview" = "mechanics/systems/index.md" },
      { "Bonuses" = "mechanics/systems/bonuses.md" },
      { "Secret weapons" = "mechanics/secret-weapons.md" },
      { "Perks" = "mechanics/perks.md" },
    ]},
  ]},
  { "Rewrite" = [
    { "Overview" = "rewrite/index.md" },
    { "Architecture" = [
      { "Overview" = "rewrite/architecture/index.md" },
      { "Module map" = "rewrite/module-map.md" },
      { "Perks architecture" = "rewrite/perks-architecture.md" },
    ]},
    { "Contracts" = [
      { "Overview" = "rewrite/contracts/index.md" },
      { "Deterministic step pipeline" = "rewrite/deterministic-step-pipeline.md" },
      { "Float parity policy" = "rewrite/float-parity-policy.md" },
      { "LAN lockstep" = "rewrite/lan-lockstep.md" },
      { "Local multiplayer" = "rewrite/local-multiplayer.md" },
    ]},
    { "Modules" = [
      { "Overview" = "rewrite/modules/index.md" },
      { "Terrain" = "rewrite/terrain.md" },
    ]},
    { "Parity" = [
      { "Overview" = "rewrite/parity/index.md" },
      { "Status" = "rewrite/status.md" },
      { "Original bugs" = "rewrite/original-bugs.md" },
      { "Typ-o-Shooter text input" = "rewrite/parity/typo-mode-text-input.md" },
    ]},
  ]},
  { "Reverse Engineering" = [
    { "Overview" = "re/index.md" },
    { "Static" = [
      { "Overview" = "re/static/index.md" },
      { "Binary analysis" = "re/static/binary-analysis.md" },
      { "Entrypoint trace" = "re/static/entrypoint.md" },
      { "Boot / loading sequence" = "re/static/boot-sequence.md" },
      { "Detangling notes" = "re/static/detangling.md" },
      { "Perk runtime reference" = "re/static/perks-runtime-reference.md" },
      { "Fire Bullets 1.9.8 vs 1.9.93" = "re/static/fire-bullets-1.9.8-vs-1.9.93.md" },
      { "Modes" = [
        { "Overview" = "re/static/modes/index.md" },
        { "Game mode map" = "re/static/modes/game-mode-map.md" },
      ]},
      { "Systems" = [
        { "Overview" = "re/static/systems/index.md" },
        { "UI elements" = "re/static/systems/ui-elements.md" },
        { "In-game console" = "re/static/systems/console.md" },
      ]},
      { "Reference" = [
        { "Overview" = "re/static/reference/index.md" },
        { "Weapon table" = "re/static/reference/weapon-table.md" },
        { "Weapon ID map" = "re/static/reference/weapon-id-map.md" },
        { "UI weapon icons" = "re/static/reference/ui-weapon-icons.md" },
        { "Bonus ID map" = "re/static/reference/bonus-id-map.md" },
        { "Bonus drop rates" = "re/static/reference/bonus-drop-rates.md" },
        { "Quest builders" = "re/static/reference/quest-builders.md" },
        { "Audio" = "re/static/reference/audio.md" },
        { "Music" = "re/static/reference/music.md" },
      ]},
      { "Crimsonland.exe" = [
        { "Overview" = "crimsonland-exe/index.md" },
        { "State machine" = "crimsonland-exe/state-machine.md" },
        { "State IDs" = "crimsonland-exe/state-ids.md" },
        { "Frame loop" = "crimsonland-exe/frame-loop.md" },
        { "Gameplay glue" = "crimsonland-exe/gameplay.md" },
        { "Rendering" = "crimsonland-exe/rendering.md" },
        { "UI and menus" = "crimsonland-exe/ui.md" },
        { "Local multiplayer controls" = "crimsonland-exe/local-multiplayer-controls.md" },
        { "Main menu" = "crimsonland-exe/main-menu.md" },
        { "Play Game menu" = "crimsonland-exe/play-game-menu.md" },
        { "Quest select menu" = "crimsonland-exe/quest-select-menu.md" },
        { "Screens and flows" = "crimsonland-exe/screens.md" },
        { "Demo mode" = "crimsonland-exe/demo-mode.md" },
        { "Survival mode" = "crimsonland-exe/survival.md" },
        { "Online scores" = "crimsonland-exe/online-scores.md" },
        { "Mods (CMOD plugins)" = "crimsonland-exe/mods.md" },
        { "Terrain pipeline" = "crimsonland-exe/terrain.md" },
        { "Player damage" = "crimsonland-exe/player-damage.md" },
      ]},
      { "Grim2D" = [
        { "Overview" = "grim2d/index.md" },
        { "API vtable" = "grim2d/api.md" },
        { "API evidence" = "grim2d/api-evidence.md" },
      ]},
      { "Secrets" = [
        { "Overview" = "re/static/secrets/index.md" },
        { "Easter eggs" = "re/static/secrets/easter-eggs.md" },
        { "Weapon candidates" = "re/static/secrets/weapon-candidates.md" },
        { "Survival weapon handouts" = "re/static/secrets/survival-weapon-handouts.md" },
      ]},
    ]},
    { "Runtime" = [
      { "Overview" = "re/runtime/index.md" },
      { "Frida" = [
        { "Overview" = "frida/index.md" },
        { "Workflow" = "frida/workflow.md" },
        { "Differential playbook" = "frida/differential-playbook.md" },
        { "Differential sessions" = "frida/differential-sessions.md" },
        { "Gameplay/state capture" = "frida/gameplay-state-capture.md" },
        { "Gameplay differential capture" = "frida/gameplay-diff-capture.md" },
        { "Survival autoplay" = "frida/survival-autoplay.md" },
        { "RNG divergence root cause" = "frida/rng-divergence-root-cause.md" },
      ]},
      { "WinDbg" = [
        { "Overview" = "windbg/index.md" },
        { "Workflow" = "windbg/workflow.md" },
        { "Sessions" = "windbg/sessions.md" },
      ]},
      { "Grim2D runtime validation" = "grim2d/runtime-validation.md" },
    ]},
    { "Formats" = [
      { "Overview" = "re/formats/index.md" },
      { "Formats overview" = "formats/index.md" },
      { "PAQ" = "formats/paq.md" },
      { "JAZ" = "formats/jaz.md" },
      { "Fonts" = "formats/fonts.md" },
      { "Sprite atlas cutting" = "formats/atlas.md" },
      { "Extraction pipeline" = "formats/pipeline.md" },
      { "Python executable spec" = "formats/python-executable-spec.md" },
      { "Save/status file (game.cfg)" = "formats/save-status-format.md" },
      { "Config blob (crimson.cfg)" = "formats/crimson-cfg.md" },
    ]},
    { "Structs" = [
      { "Overview" = "re/structs/index.md" },
      { "Structs overview" = "structs/index.md" },
      { "Player" = "structs/player.md" },
      { "Projectile" = "structs/projectile.md" },
      { "Effects" = "structs/effects.md" },
      { "Creatures" = [
        { "Overview" = "creatures/index.md" },
        { "Creature struct" = "creatures/struct.md" },
        { "Creature runtime" = "creatures/update.md" },
        { "Spawning" = "creatures/spawning.md" },
        { "Spawn plan" = "creatures/spawn_plan.md" },
        { "Animations" = "creatures/animations.md" },
        { "AI" = "creatures/ai.md" },
      ]},
    ]},
  ]},
  { "Verification" = [
    { "Overview" = "verification/index.md" },
    { "Differential testing" = "verification/differential-testing/index.md" },
    { "Evidence ledger" = "verification/evidence-ledger/index.md" },
    { "Parity matrix" = "verification/parity-matrix/index.md" },
  ]},
  { "Contributor" = [
    { "Overview" = "contributor/index.md" },
    { "Setup" = "contributor/setup.md" },
    { "Workflows" = [
      { "Overview" = "contributor/workflows/index.md" },
    ]},
    { "Project tracking" = [
      { "Overview" = "contributor/project-tracking/index.md" },
      { "Build provenance and hashes" = "contributor/project-tracking/provenance.md" },
      { "Third-party libraries" = "contributor/project-tracking/third-party-libs.md" },
    ]},
    { "Cheatsheets" = [
      { "Frida GumJS" = "cheatsheets/frida.md" },
      { "raylib (Python)" = "cheatsheets/raylib.md" },
      { "DirectX 8" = "cheatsheets/directx8.md" },
    ]},
  ]},
]

[project.extra]
generator = false

[project.theme]
language = "en"
logo = "images/reaper-silhouette.svg"

features = [
    "content.code.copy",
    "content.tabs.link",
    "navigation.footer",
    "navigation.instant",
    "navigation.tabs",
    "navigation.sections",
]

[[project.theme.palette]]
scheme = "default"
toggle.icon = "lucide/sun"
toggle.name = "Switch to dark mode"

[[project.theme.palette]]
scheme = "slate"
toggle.icon = "lucide/moon"
toggle.name = "Switch to light mode"
