{
  "options": {
    "module": "grim.dll",
    "out_path": "C:\\share\\frida\\grim_hits.log",
    "json_path": "C:\\share\\frida\\grim_hits.jsonl",
    "log_json": true,
    "console_log": false,
    "log_mode": "truncate",
    "log_interval_ms": 5000,
    "trace": {
      "mode": "callsite",
      "first": 1,
      "callsite_limit": 3
    },
    "draw_state": true,
    "include_state_in_text": false,
    "frame_boundary": ["grim_flush_batch"],
    "frame_summary_top": 12,
    "player_unknown_tracker": {
      "enabled": false,
      "exe_module": "crimsonland.exe",
      "exe_link_base": "0x00400000",
      "player_health_base": "0x004908d4",
      "player_stride": 864,
      "prepad": 32,
      "interval_ms": 250,
      "report_every_ms": 5000,
      "top_n": 15,
      "player_index": 0
    }
  },
  "targets": {
    "grim_apply_config": { "rva": "0x05D40" },
    "grim_init_system": { "rva": "0x05EB0" },
    "grim_apply_settings": { "rva": "0x06020" },
    "grim_check_device": { "rva": "0x05CB0" },
    "grim_get_error_text": { "rva": "0x06CA0", "ret": "cstring" },

    "grim_create_texture": {
      "rva": "0x075D0",
      "args": ["name:cstring", "width:i32", "height:i32"],
      "state": { "last_texture_create": ["name", "width", "height"] }
    },
    "grim_load_texture": {
      "rva": "0x076E0",
      "args": ["name:cstring", "path:cstring"],
      "state": { "last_texture_load": ["name", "path"] }
    },
    "grim_validate_texture": { "rva": "0x07750", "args": ["handle:i32"] },
    "grim_destroy_texture": {
      "rva": "0x07700",
      "args": ["handle:i32"],
      "resource": { "kind": "texture", "id": "handle", "op": "destroy" }
    },
    "grim_recreate_texture": { "rva": "0x07790", "args": ["handle:i32"] },
    "grim_get_texture_handle": {
      "rva": "0x07740",
      "args": ["name:cstring"],
      "ret": "i32",
      "resource": { "kind": "texture", "id": "ret", "props": { "name": "name" } }
    },
    "grim_bind_texture": {
      "rva": "0x07830",
      "args": ["handle:i32", "stage:i32"],
      "state": {
        "texture": "handle",
        "texture_stage": { "index": "stage", "value": "handle" }
      }
    },

    "grim_set_config_var": {
      "rva": "0x06580",
      "args": ["id:u32", "value:u32"],
      "state": { "config_var": { "index": "id", "value": "value" } }
    },

    "grim_set_uv": {
      "rva": "0x08350",
      "args": ["u0:f32", "v0:f32", "u1:f32", "v1:f32"],
      "state": { "uv": ["u0", "v0", "u1", "v1"] }
    },
    "grim_set_uv_point": {
      "rva": "0x083A0",
      "args": ["index:i32", "u:f32", "v:f32"],
      "state": { "uv_points": { "index": "index", "value": ["u", "v"] } }
    },

    "grim_set_color_ptr": {
      "rva": "0x08040",
      "args": [{ "name": "rgba", "mem": "f32[4]" }],
      "state": { "color": "rgba" }
    },
    "grim_set_color": {
      "rva": "0x07F90",
      "args": ["r:f32", "g:f32", "b:f32", "a:f32"],
      "state": { "color": ["r", "g", "b", "a"] }
    },
    "grim_set_color_slot": {
      "rva": "0x081C0",
      "args": ["index:i32", "r:f32", "g:f32", "b:f32", "a:f32"],
      "state": { "color_slots": { "index": "index", "value": ["r", "g", "b", "a"] } }
    },

    "grim_draw_quad": {
      "rva": "0x08B10",
      "role": "draw",
      "args": ["x:f32", "y:f32", "w:f32", "h:f32"]
    },
    "grim_draw_quad_xy": {
      "rva": "0x08720",
      "role": "draw",
      "args": [{ "name": "xy", "mem": "f32[2]" }, "w:f32", "h:f32"]
    },
    "grim_draw_quad_rotated_matrix": {
      "rva": "0x08750",
      "role": "draw",
      "args": ["x:f32", "y:f32", "w:f32", "h:f32"]
    },

    "grim_flush_batch": { "rva": "0x083C0", "role": "frame_boundary" }
  }
}
